(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9ffe2852"],{"25a6":function(t,i,a){},"48eb":function(t,i,a){},"4de4":function(t,i,a){"use strict";var e=a("23e7"),s=a("b727").filter,n=a("1dde"),c=n("filter");e({target:"Array",proto:!0,forced:!c},{filter:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},"704c":function(t,i,a){"use strict";a("48eb")},bcf0:function(t,i,a){"use strict";a.r(i);var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"content_film"},[a("div",{staticClass:"header"},[a("i",{staticClass:"iconfont icon1",on:{click:function(i){return t.$router.push("/main/cinema")}}},[t._v("")]),a("p",{staticClass:"zero"}),a("van-sticky",{attrs:{"offset-top":0}},[a("p",{staticClass:"title",domProps:{textContent:t._s(t.cinema.name)}})]),a("ul",{staticClass:"ul1"},[t._l(t.cinema.services,(function(i){return a("li",{domProps:{textContent:t._s(i.name)},on:{click:function(i){return t.$router.push("/main/cinema/"+t.$route.params.id)}}})})),t._m(0)],2),a("div",{staticClass:"address"},[a("i",{staticClass:"iconfont"},[t._v("")]),a("p",{domProps:{textContent:t._s(t.cinema.address)}}),a("i",{staticClass:"iconfont icon3"},[t._v("")])])],1),a("div",{staticClass:"body"},[t._l(t.films,(function(i,e){return a("div",{class:e===t.index?"fil":"fil fil_to",style:t.change(e)})})),a("div",{staticClass:"imgs"},[a("swiper",{key:t.films.length},t._l(t.films,(function(t){return a("div",{staticClass:"swiper-slide"},[a("img",{staticClass:"swiper_img",attrs:{src:t.poster,alt:""}})])})),0)],1),t._m(1)],2),a("van-sticky",{attrs:{"offset-top":44}},[0!=t.films.length?a("div",{staticClass:"footer"},[a("div",{staticClass:"film",on:{click:function(i){return t.$router.push("/main/movie/on/detail/"+t.$route.params.filmid)}}},[a("div",[a("p",[t._v(t._s(t.films[t.index].name)),a("span",[t._v(t._s(t.films[t.index].grade))]),a("span",{staticClass:"scol"},[t._v("分")])]),a("p",[t._v(t._s(t.films[t.index].category)+" | "+t._s(t.films[t.index].runtime)+"分钟 | "+t._s(t.films[t.index].director)+" | "+t._s(t._f("otor")(t.films[t.index].actors)))])]),a("i",{staticClass:"iconfont icon4"},[t._v("")])]),a("div",{staticClass:"timer"},[a("ul",t._l(t.films[t.index].showDate,(function(i,e){return a("router-link",{attrs:{to:t.url[e],replace:"",custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.navigate,n=e.isActive;return[a("li",{key:100*Math.random(),class:n?"active":"",on:{click:s}},[a("div",{on:{click:function(a){return t.data_go(i)}}},[t._v(t._s(t.date(i)))])])]}}],null,!0)})})),1)])]):t._e()]),a("div",{staticClass:"value"},[a("router-view",{attrs:{datalist:void 0===t.datalist?[]:t.datalist}})],1)],1)},s=[function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("li",{staticClass:"li_i"},[a("i",{staticClass:"iconfont icon2"},[t._v("")])])},function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"sj"},[a("img",{attrs:{src:"/sj.png",alt:""}})])}],n=a("1da1"),c=(a("96cf"),a("4de4"),a("159b"),a("b0c0"),a("99af"),a("2b0e")),o=a("d399"),r=a("3104"),l=a("bc3a"),u=a.n(l),d=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"content"},[a("div",{staticClass:"swiper-container"},[a("div",{staticClass:"swiper-wrapper"},[t._t("default")],2)])])},f=[],m=a("defa"),h=(a("bbe3"),{mounted:function(){var t=this,i=new m["a"](".swiper-container",{slidesPerView:4,spaceBetween:30,centeredSlides:!0,pagination:{el:".swiper-pagination",clickable:!0},on:{slideChangeTransitionEnd:function(){t.$store.commit("sw",i.activeIndex)}}})}}),p=h,v=(a("fc7a"),a("2877")),_=Object(v["a"])(p,d,f,!1,null,null,null),w=_.exports;c["a"].use(o["a"]),c["a"].filter("otor",(function(t){var i="";return t.forEach((function(t){i+=t.name+" "})),i})),c["a"].use(r["a"]);var x={data:function(){return{url:[],cinema:[],films:[],index:0,scroll:0,cache:{},status:[],statusn:0,active:0,datalist:[]}},components:{swiper:w},created:function(){var t=this;this.axios1(),this.axios2(),this.$watch((function(){return t.$store.state.index}),(function(){t.index=t.$store.state.index}))},mounted:function(){},updated:function(){},methods:{axios1:function(){var t=this;return u()({url:"https://m.maizuo.com/gateway/?cinemaId=".concat(this.$route.params.id,"&k=993360"),headers:{"X-Client-Info":'{"a":"3000","ch":"1002","v":"5.0.4","e":"16357749354350673021829121","bc":"130900"}',"X-Host":"mall.film-ticket.cinema.info"}}).then((function(i){t.cinema=i.data.data.cinema}))},axios2:function(){var t=this;return u()({url:"https://m.maizuo.com/gateway/?cinemaId=".concat(this.$route.params.id,"&k=5234719"),headers:{"X-Client-Info":' {"a":"3000","ch":"1002","v":"5.0.4","e":"16357749354350673021829121","bc":"130900"}',"X-Host":"mall.film-ticket.film.cinema-show-film"}}).then((function(i){var a=[];i.data.data.films.forEach((function(t){a.push({filmId:t.filmId,time:t.showDate})})),t.films=i.data.data.films,t.bgurl='background: url("'.concat(t.films[t.index].poster,'")'),o["a"].loading({message:"loading...",forbidClick:!0,duration:0}),t.axios3(t.films[t.index].filmId,t.films[t.index].showDate[0]).then((function(i){t.datalist=i,o["a"].clear()})),t.on(a)}))},axios3:function(t,i){var a=this;return u()({url:"https://m.maizuo.com/gateway/?filmId=".concat(t,"&cinemaId=").concat(this.$route.params.id,"&date=").concat(i,"&k=5021935"),headers:{"X-Client-Info":'{"a":"3000","ch":"1002","v":"5.0.4","e":"16357749354350673021829121","bc":"130900"}',"X-Host":"mall.film-ticket.schedule.list"}}).then((function(t){if(t.data.data)return a.status.push(!0),t.data.data.schedules}))},change:function(t){return'background: url("'.concat(this.films[t].poster,'")')},date:function(t){var i=new Date(1e3*t),a=["今天","明天","后天"],e=["周天","周一","周二","周三","周四","周五","周六"],s="";return s=i.getDate()-(new Date).getDate()<0||i.getDate()-(new Date).getDate()>2?e[i.getDay()]:a[i.getDate()-(new Date).getDate()],s+(i.getMonth()+1)+"月"+i.getDate()+"日"},data_to:function(){for(var t={},i=0;i<this.films[this.index].showDate.length;i++)t[i]="/main/cinema/".concat(this.$route.params.id,"/film/").concat(this.films[this.index].filmId,"/").concat(this.films[this.index].showDate[i]);this.url=t},data:function(){this.datalist=this.cache[this.films[this.index].filmId][this.films[this.index].showDate[0]],this.$router.push("/main/cinema/".concat(this.$route.params.id,"/film/").concat(this.films[this.index].filmId,"/").concat(this.films[this.index].showDate[0]))},data_go:function(t){this.$router.push("/main/cinema/".concat(this.$route.params.id,"/film/").concat(this.films[this.index].filmId,"/").concat(this.films[this.index].showDate[0])),this.datalist=this.cache[this.films[this.index].filmId][t]},on:function(t){var i=this;t&&t.forEach((function(a,e){i.cache[a.filmId]={},t[e].time.forEach(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.axios3(a.filmId,e);case 2:i.cache[a.filmId][e]=t.sent,i.statusn++;case 4:case"end":return t.stop()}}),t)})));return function(i){return t.apply(this,arguments)}}())}))}},watch:{films:function(){this.data_to(),this.data()},index:function(){this.data(),this.data_to()}}},g=x,C=(a("704c"),Object(v["a"])(g,e,s,!1,null,"5c2dc23c",null));i["default"]=C.exports},fc7a:function(t,i,a){"use strict";a("25a6")}}]);
//# sourceMappingURL=chunk-9ffe2852.49ecd8f1.js.map